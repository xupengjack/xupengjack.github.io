[TOC]
# 讲师简介
中科院生物信息学博士，本科是生物背景，期间自学了计算机基础、C语言、Java。后来又去了互联网公司做后端开发，主要用Python。

**个人总结学好编程的三点：**

1. 经常写：看的再多，不如自己多写，不写很快就忘了。我保守估计，自己的代码量不少于10万行，当然，这不能衡量一个人的代码水平，相反，越强的高手，他的代码越简洁。但是通往大神的路上，总是要多些烂代码，这是个过程。
2. 注重编程思想，体会其中的逻辑。所以为什么程序员男性居多，因为男性的思维相对是偏逻辑的。
3. 最后一点，抛弃书本，学会google，如果不能goolgle就用百度吧。


# 我们这个课程适合谁？
我们这次课程主要是针对医学、生物学背景的编程小白。作为生物背景的我，可能更加理解咱们学习编程的痛点，即使一点计算机基础都么有也没关系，我会站在大家的角度，多用例子，并用图讲解其中的道理，让大家尽快的入门并学会如何进阶。

所以，如果你是小白用户，满足以下条件:

1. 会使用电脑，但从来没写过程序; 
2. 还记得初中数学学的方程式和一点点代数知识; 
3. 想从编程小白变成专业的生物信息学大神; 
4. 有坚持的毅力。


那么很高兴和大家一起开启这段Python的学习之旅。高手不是被教出来的，都是自己Google出来的，不过Google是门艺术，这个比编程更值得学习！


# Python简介
### 什么是编程？

首先，我们普及一下编程语言的基础知识。用任何编程语言来开发程序，都是为了让计算机干活，比如下载一首歌、编写一个文档、从基因数据库下载序列等等，有时可能是批量下载，如果一个一个手动太麻烦了，有了编程，只需要点击开始，之后就可以去睡觉了。计算机干活的CPU，也就是中央处理器，计算的心脏，只认识机器指令，所以，尽管不同的编程语言差异极大，最后都得“翻译”成CPU可以执行的机器指令。

输入 > 处理 > 输出

举个例子，告诉向计算机输入一条DNA序列，计算机可以利用程序对序列进行处理，然后输出序列长度、GC含量等信息。Python是一种计算机程序设计语言。你可能已经听说过很多种流行的编程语言，比如我刚刚提到的C语言，非常流行的 Java语言，非常难学，如果一上来就学习这些语言，很可能是一个从入门到放弃的过程。另外还有适合初学者的Basic语言，适合网页编程的JavaScript语言等等。


### Python是一种什么语言?
不同的编程语言，干同一个活，编写的代码量，差距很大。比如，完成同一个任务，C语言要写1000行代码，Java只需要写100行，而Python可能只要20行。举

比如，我的导师曾经给了我一个500行的perl语言代码，是另一个曾经辉煌但是在走向没落的生物信息学语言，后来我用python重写了一下，50行搞定，所以Python是一种相当高级的语言。

代码少是有代价的，代价就是运行速度慢，C程序运行1秒钟，Java程序可能需要2秒，而Python程序可 能就需要10秒。

那是不是越低级的程序越难学，越高级的程序越简单?表面上来说，是的，但是高级的Python程序设计也是非常难学的，所以，高级程序语言不等于简单。

但是，对于我们生物背景的初学者，完成普通任务，Python语言是非常简单易用的。连Google都在大规模使用Python，你就不用担心学了会没用。

### 用Python可以做什么?
除了生孩子，啥都能干。

可以自动备份你的各种测序数据;可以做网站，很多著名的网站包括YouTube就是Python写的，咱们也可以用python给自己搭建一个炫酷的实验室网站;可以做网络游戏的后台，很多在线游戏的后台都是Python开发的，比如咱们用的在线blast，完全可以自己用python开发一个，换上自己的数据做database。总之就是能干很多很多事啦。

Python当然也有不能干的事情，比如写操作系统，这个只能用C语言写;写手机应用，只能用Swift/Objective-C(针对 iPhone)和Java(针对Android);写3D游戏，最好用C或C++。

Python是著名的“龟叔”在1989年圣诞节期间，为了打发无聊的圣诞节而编写的一个编程语言。

现在，全世界差不多有600多种编程语言，但流行的编程语言也就那么20来种。如果你听说过TIOBE排行榜，你就能知道编程语言的大致流行程度。这是最近10年最常用的10种编程语言的变化图:

![bae8db4aa2a6ae5b789dfba37e189822.png](en-resource://database/488:1)

总的来说，这几种编程语言各有千秋。C语言是可以用来编写操作系统的贴近硬件的语言，所以，C语言适合开发那些追求运行速度、充分发挥硬件性能的程序。而Python是用来编写应用程序的高级编程语言。

当你用一种语言开始作真正的软件开发时，你除了编写代码外，还需要很多基本的已经写好的现成的东西，来帮助你加快开发进度。比如说，要编写一个电子邮件客户端，如果先从最底层开始编写网络协议相关的代码，那估计一年半载也开发不出来。高级编程语言通常都会提供一个比较完善的基础代码库，让你能直接调用，比如，针对电子邮件协议的SMTP库，针对桌面环境的GUI库，在这些已有的代码库的基础上开发，一个电子邮件客户端几天就能开发出来。咱们生物领域也是，其实已经有好多别人开发好的库或者包，直接调用即可。

Python就为我们提供了非常完善的基础代码库，覆盖了网络、文件、GUI、数据库、文本等大量内容，被形象地称作“内置电池”。用Python开发，许多功能不必从零编写，直接使用现成的即可。
除了内置的库外，Python还有大量的第三方库，也就是别人开发的，供你直接使用的东西。当然，如果你开发的代码 通过很好的封装，也可以作为第三方库给别人使用。

许多大型网站就是用Python开发的，例如YouTube、Instagram，还有国内的豆瓣。很多大公司，包括Google、Yahoo等， 甚至NASA(美国航空航天局)都大量地使用Python。

龟叔给Python的定位是“优雅”、“明确”、“简单”，所以Python程序看上去总是简单易懂，初学者学Python，不但入门容易，而且将来深入下去，可以编写那些非常非常复杂的程序。

总的来说，Python的哲学就是简单优雅，尽量写容易看明白的代码，尽量写少的代码。如果一个资深程序员向你炫耀。

他写的晦涩难懂、动不动就几万行的代码，你可以尽情地嘲笑他。 

那Python适合开发哪些类型的应用呢? 首选是网络应用，包括网站、后台服务等等; 其次是许多日常需要的小工具，包括系统管理员需要的脚本任务等等; 另外就是把其他语言开发的程序再包装起来，方便使用。咱们生物信息领域有大量的文本处理、统计、画图，Python都可以胜任。

最后说说Python的缺点。

任何编程语言都有缺点，Python也不例外。优点说过了，那Python有哪些缺点呢?
第一个缺点就是运行速度慢，和C程序相比非常慢，因为Python是解释型语言，你的代码在执行时会一行一行地翻译成CPU能理解的机器码，这个翻译过程非常耗时，所以很慢。而C程序是运行前直接编译成CPU能执行的机器码，所以非常快
。
但是大量的应用程序不需要这么快的运行速度，因为用户根本感觉不出来。例如开发一个下载一个基因序列的网络应用程序，C程序的运行时间需要0.001秒，而Python程序的运行时间需要0.1秒，慢了100倍，但由于网络更慢，需要等待1秒，你想，用户能感觉到1.001秒和1.1秒的区别吗?这就好比F1赛车和普通的出租车在北京三环路上行驶的道理一样，虽然F1赛车理论时速高达400公里，但由于三环路堵车的时速只有20公里，因此，作为乘客，你感觉的时速永远是20公里。
![46520a65ae47891fa3006cdb96108f32.png](en-resource://database/489:1)

第二个缺点就是代码不能加密。如果要发布你的Python程序，实际上就是发布源代码，这一点跟C语言不同，C语言 用发布源代码，只需要把编译后的机器码(也就是你在Windows上常见的xxx.exe文件)发布出去。要从机器码反推出C代码是不可能的，所以，凡是编译型的语言，都没有这个问题，而解释型的语言，则必须把源码发布出去。

这个缺点仅限于你要编写的软件需要卖给别人挣钱的时候。好消息是目前的互联网时代，靠卖软件授权的商业模式越 来越少了，靠网站和移动应用卖服务的模式越来越多了，后一种模式不需要把源码给别人。

再说了，现在如火如荼的开源运动和互联网自由开放的精神是一致的，互联网上有无数非常优秀的像Linux一样的开源代码，我们千万不要高估自己写的代码真的有非常大的“商业价值”。那些大公司的代码不愿意开放的更重要的原因是 代码写得太烂了，一旦开源，就没人敢用他们的产品了。

咱们做科研发文章，一般都要上传源码，所以也没啥好担心的。

![ce32cdf5274878a22e19fcccce57b501.png](en-resource://database/490:1)

当然，Python还有其他若干小缺点，请自行忽略，就不一一列举了。

### python2还是3？
有人会纠结用python2还是3，说用的很多软件是Python2写的。在此明确的告诉大家，用3！不用纠结，不用犹豫，如果想知道为啥，时间关系，咱们私下聊吧。


# 环境搭建
因为Python是跨平台的，它可以运行在Windows、Mac和各种Linux/Unix系统上。在Windows上写Python程序，放到Linux上也是能够运行的。

要开始学习Python编程，首先就得把Python安装到你的电脑里。

## 推荐的开发环境
Anaconda+Pycharm，这是我踩了很多坑发现的，最能提高我们生信研究开发效率的环境。

## Anaconda
### 安装
下载地址：https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/

下载完成后双击下一步直到安装完成，安装完成后自动会把anaconda的执行文件的路径添加到环境变量中无需手动配置，如何需要手动改变需要自行配置。

### Anaconda简介
Anaconda是一个免费开源的Python和R语言的发行版本，用于计算科学（数据科学、机器学习、大数据处理和预测分析），Anaconda致力于简化包管理和部署。Anaconda的包使用软件包管理系统Conda进行管理。超过1200万人使用Anaconda发行版本，并且Anaconda拥有超过1400个适用于Windows、Linux和MacOS的数据科学软件包。

Anaconda拥有超过1400个软件包其中包含Conda和虚拟环境管理，他们都被包含在Anaconda Navigator中，因此无需去了解独立安装每个库。支持 Linux, Mac, Windows系统，提供了包管理与环境管理的功能，可以很方便地解决多版本python并存、切换以及各种第三方包安装问题。Anaconda利用工具/命令conda来进行package和environment的管理，并且已经包含了Python和相关的配套工具。可以使用已经包含在Anaconda中的命令conda install或者pip install从Anaconda仓库中安装开源软件包。Pip提供了Conda大部分功能，并且大多数情况下两个可以同时使用。可以使用conda build命令构建自定义包，然后通过上传到Anaconda Cloud、PyPI或其他仓库来分享给其他人。

Anaconda2默认包含Python 2.7，Anaconda3默认包含Python 3.7，但是你可以创建虚拟环境来使用任意版本的Python包。

这里先解释下conda、anaconda这些概念的差别。conda可以理解为一个工具，也是一个可执行命令，其核心功能是包管理与环境管理。包管理与pip的使用类似，环境管理则允许用户方便地安装不同版本的python并可以快速切换。Anaconda则是一个打包的集合，里面预装好了conda、某个版本的python、众多packages、科学计算工具等等，所以也称为Python的一种发行版。其实还有Miniconda，顾名思义，它只包含最基本的内容——python与conda，以及相关的必须依赖项，对于空间要求严格的用户，Miniconda是一种选择。

进入下文之前，说明一下conda的设计理念——conda将几乎所有的工具、第三方包都当做package对待，甚至包括python和conda自身！因此，conda打破了包管理与环境管理的约束，能非常方便地安装各种版本python、各种package并方便地切换。

### Anaconda特点
- 丰富的第三方库
Anaconda 附带了一大批常用数据科学包，它附带了 conda、Python 和 150 多个科学包及其依赖项。因此你可以立即开始处理数据。

- 管理包
Anaconda 是在 conda（一个包管理器和环境管理器）上发展出来的。可以使用 conda 来安装、更新 、卸载工具包 ，并且它更关注于数据科学相关的工具包。在安装 anaconda 时就预先集成了像 Numpy、Scipy、 pandas、Scikit-learn 这些在数据分析中常用的包。另外值得一提的是，conda 并不仅仅管理Python的工具包，它也能安装非python的包。比如在新版的 Anaconda 中就可以安装R语言的集成开发环境 Rstudio。

- 虚拟环境管理
在conda中可以建立多个虚拟环境，用于隔离不同项目所需的不同版本的工具包，以防止版本上的冲突。对纠结于 Python 版本的同学们，我们也可以建立 Python2 和 Python3 两个环境，来分别运行不同版本的 Python 代码。

### Anaconda一些功能强大的工具

#### Anaconda Navigtor
用于管理工具包和环境的图形用户界面，后续涉及的众多管理命令也可以在 Navigator 中手工实现。

#### Jupyter notebook
基于web的交互式计算环境，可以编辑易于人们阅读的文档，用于展示数据分析的过程。

#### qtconsole
一个可执行 IPython 的仿终端图形界面程序，相比 Python Shell 界面，qtconsole 可以直接显示代码生成的图形，实现多行代码输入执行，以及内置许多有用的功能和函数。

#### spyder
一个使用Python语言、跨平台的、科学运算集成开发环境。

## pycharm
下载地址：https://www.jetbrains.com/pycharm/

接下来介绍一些可以明显改善开发效率的使用技巧，一旦学会，受用一生。以下代码演示是在 Mac 环境下，Windows 也类似，Command 键 相当于 Windows 上的 Control 键。

### 代码排版，自动PEP8
pep8 是Python 语言的一个代码编写规范。如若你是新手，目前只想快速掌握基础，而不想过多去注重代码的的编写风格（虽然这很重要），那你可以尝试一下这个工具 - autopep8
首先在全局环境中（不要在虚拟环境中安装），安装一下这个工具。
```
pip install autopep8
```
然后在 Pycharm 里导入这个工具。

![a458fb11bba3d9d105e57bc959ba545e.jpeg](en-resource://database/491:1)

我随意写了一段不符合 pep8 规范的代码。
```
a = ['欢迎和我一起学习python','欢迎欢迎，热烈欢迎！','欢迎欢迎，热烈欢迎！','欢迎欢迎，热烈欢迎！','欢迎欢迎，热烈欢迎！','欢迎欢迎，热烈欢迎！','欢迎欢迎，热烈欢迎！']
```
点击右键，选择 External Tools -> AutoPep8

![093c279d8175bb2be1a13be04edc3c05.png](en-resource://database/492:1)

看一下效果，还是挺明显的。

你可能会说，Pycharm 本身就自带这个功能了呀，快捷键 Command+Option+L ，就可以实现一键pep8了。你可以对比一下，Pycharm 自带的代码 pep8 化功能 并没有像这个autopep8 来得彻底。我相信你最终的选择肯定是后者。


### 代码模板，效率编码
Pycharm 提供的这个代码模板，可以说是相当实用的一个功能了。它可以在你新建一个文件时，按照你预设的模板给你生成一段内容，比如解释器路径，编码方法，作者详细信息等

![cafd8d169be7fe149dc95dfec242cc18.jpeg](en-resource://database/493:1)

按照上图模板，生成的效果如下。

### 多行标签页，一览无余
PyCharm 打开一个文件，就占用一个标签面。你有没有发现，不知不觉地，打开的文件越来越多，多到一行标签都装不下，装不下的标签页 PyCharm 会将其隐藏起来，并以数字的形式告诉你隐藏了几个文件。

![2f1e66ec94435961c0a24de66570205d.jpeg](en-resource://database/494:1)

点击数字5，你才可以查看隐藏了哪些文件。这时你肯定会说，一行装不下 PyCharm 为什么不能多行显示呢？答案是，不是不能，而是需要你设置。如下图，将单行显示取消勾选即可。

![390dc5e37bf3893d2461c341e723facd.jpeg](en-resource://database/495:1)

设置完后，有哪些文件就非常清晰了。

![893c77422d922f081dd812808cf53915.jpeg](en-resource://database/496:1)

### 保护眼睛，从PyCharm开始
不能不说，合理的背景色，确实对保护眼睛有一定的作用，但个人觉得最重要的还是合理适时的休息。
这里就教大家如何设置 PyCharm 的背景色为护眼色，方法如下：
![aa3931af4bc66806afb2c9f49adffd80.jpeg](en-resource://database/497:1)

设置护眼色，会降低 PyCharm 的顔值，这需要你从中取一个取舍。

# 第一个Python程序
## 交互式
像和一个人对话。在写代码之前，请千万不要用“复制”-“粘贴”把代码从页面粘贴到你自己的电脑上。写程序也讲究一个感觉，你需要一个字母一个字母地把代码自己敲进去，在敲代码的过程中，初学者经常会敲错代码:拼写不对，大小写不对，混用中英文标点，混用空格和Tab键，所以，你需要仔细地检查、对照，才能以最快的速度掌握如何写程序。
![41a11d6d8317f38a41c7bb43ce151830.png](en-resource://database/498:1)

```
print('Hello,World!')
```

现在，试试输入100+200，看看计算结果是不是300:
```
>>> 100+200 
300
```
很简单吧，任何有效的数学计算都可以算出来。

如果要让Python打印出指定的文字，可以用print()函数，然后把希望打印的文字用单引号或者双引号括起来，但不能混用单引号和双引号.我们开始一个有仪式感的操作：在交互模式的提示符>>>下，直接输入代码，按回车，就可以立刻得到代码执行结果:
```
>>> print('hello, world') 
hello, world
```
这种用单引号或者双引号括起来的文本在程序中叫字符串，今后我们还会经常遇到。
最后，用exit()退出Python，我们的第一个Python程序完成!唯一的缺憾是没有保存下来，下次运行时还要再输入一遍代码。
## 脚本
在Python的交互式命令行写程序，好处是一下就能得到结果，坏处是没法保存，下次还想运行的时候，还得再敲一遍。

所以，实际开发的时候，我们总是使用一个文本编辑器来写代码，写完了，保存为一个文件，然后在命令行模式下，直接运行.py脚本文件，从上往下执行。这样，程序就可以反复运行了。

现在，我们就把上次的'hello, world'程序用文本编辑器写出来，保存下来。 那么问题来了:文本编辑器到底哪家强?

推荐两款文本编辑器:
一个是Sublime Text，免费使用，但是不付费会弹出提示框:

![39726a2a89dea3a221105b45f8091548.png](en-resource://database/499:1)

一个是Notepad++，免费使用，有中文界面:

![33420c47557e9ed68a9e5cb78279c6e1.png](en-resource://database/500:1)

请注意，不要用Word和Windows自带的记事本。Word保存的不是纯文本文件，而记事本会自作聪明地在文件开始的地方加上几个特殊字符（UTF-8 BOM），结果会导致程序运行出现莫名其妙的错误。

我们可以在Pycharm直接编辑，输入以下代码：
```
print('hello, world')
```
注意print前面不要有任何空格。然后，选择一个目录，把文件保存为hello.py，就可以打开命令行窗口，把当前目录切换到hello.py所在目录，就可以运行这个程序了：
```
C:\work>python hello.py
hello, world
```
也可以保存为别的名字，比如first.py，但是必须要以.py结尾，其他的都不行。此外，文件名只能是英文字母、数字和下划线的组合。

如果当前目录下没有hello.py这个文件，运行python hello.py就会报错：
```
C:\Users\IEUser>python hello.py
python: can't open file 'hello.py': [Errno 2] No such file or directory
```
报错的意思就是，无法打开hello.py这个文件，因为文件不存在。这个时候，就要检查一下当前目录下是否有这个文件了。如果hello.py存放在另外一个目录下，要首先用cd命令切换当前目录。

小结

用文本编辑器写Python程序，然后保存为后缀为.py的文件，就可以用Python直接运行这个程序了。

Python的交互模式和直接运行.py文件有什么区别呢？

直接输入python进入交互模式，相当于启动了Python解释器，但是等待你一行一行地输入源代码，每输入一行就执行一行。

直接运行.py文件相当于启动了Python解释器，然后一次性把.py文件的源代码给执行了，你是没有机会以交互的方式输入源代码的。

用Python开发程序，完全可以一边在文本编辑器里写代码，一边开一个交互式命令窗口，在写代码的过程中，把部分代码粘到命令行去验证，事半功倍！前提是得有个27'的超大显示器！

## 输出
用print()在括号中加上字符串，就可以向屏幕上输出指定的文字。比如输出'hello, world'，用代码实现如下：
```
>>> print('hello, world')
```
print()函数也可以接受多个字符串，用逗号“,”隔开，就可以连成一串输出：
```
>>> print('The quick brown fox', 'jumps over', 'the lazy dog')
The quick brown fox jumps over the lazy dog
```

`print()`会依次打印每个字符串，遇到逗号`,`会输出一个空格

`print()`也可以打印整数，或者计算结果：

```
>>> print(300)
300
>>> print(100 + 200)
300
```
因此，我们可以把计算`100 + 200`的结果打印得更漂亮一点：
```
>>> print('100 + 200 =', 100 + 200)
100 + 200 = 300
```
注意，对于100 + 200，Python解释器自动计算出结果300，但是，'100 + 200 ='是字符串而非数学公式，Python把它视为字符串，请自行解释上述打印结果。

## 输入
现在，你已经可以用`print()`输出你想要的结果了。但是，如果要让用户从电脑输入一些字符怎么办？`Python`提供了一个`input()`，可以让用户输入字符串，并存放到一个变量里。比如输入某个基因的名字的名字：

```
>>> name = input()
gene
```

当你输入name = input()并按下回车后，Python交互式命令行就在等待你的输入了。这时，你可以输入任意字符，然后按回车后完成输入。

输入完成后，不会有任何提示，Python交互式命令行又回到`>>>`状态了。那我们刚才输入的内容到哪去了？答案是存放到name变量里了。可以直接输入name查看变量内容：
```
>>> name
'genen'
```
什么是变量？请回忆初中数学所学的代数基础知识：

设正方形的边长为a，则正方形的面积为a x a。把边长a看做一个变量，我们就可以根据a的值计算正方形的面积，比如：

若a=2，则面积为a x a = 2 x 2 = 4；

若a=3，则面积为a x a = 3 x 3 = 9。

在计算机程序中，变量不仅可以为整数或浮点数，还可以是字符串，因此，name作为一个变量，其存储的内容是一个字符串。

要打印出name变量的内容，除了直接写name然后按回车外，还可以用print()函数：
```
>>> print(name)
gene
```
有了输入和输出，我们就可以把上次打印'hello, world'的程序改成有点意义的程序了：
```
name = input()
print('hello,', name)
```
运行上面的程序，第一行代码会让用户输入任意字符作为自己的名字，然后存入name变量中；第二行代码会根据用户的名字向用户说hello，比如输入gene：
```
C:\Workspace> python hello.py
gene
hello, gene
```
但是程序运行的时候，没有任何提示信息告诉用户：“嘿，赶紧输入你的名字”，这样显得很不友好。幸好，input()可以让你显示一个字符串来提示用户，于是我们把代码改成：
```
name = input('please enter your gene name: ')
print('hello,', name)
```
再次运行这个程序，你会发现，程序一运行，会首先打印出please enter your gene name:，这样，用户就可以根据提示，输入名字后，得到hello, xxx的输出：
```
C:\Workspace> python hello.py
please enter your name: gene
hello, gene
```
每次运行该程序，根据用户输入的不同，输出结果也会不同。

在命令行下，输入和输出就是这么简单。

## 小结
任何计算机程序都是为了执行一个特定的任务，有了输入，用户才能告诉计算机程序所需的信息，有了输出，程序运行后才能告诉用户任务的结果。

输入是Input，输出是Output，因此，我们把输入输出统称为Input/Output，或者简写为IO。

input()和print()是在命令行下面最基本的输入和输出，但是，用户也可以通过其他更高级的图形界面完成输入和输出，比如，在网页上的一个文本框输入自己的名字，点击“确定”后在网页上看到输出信息。

## 练习
请利用print()输出1024 * 768 = xxx：